# 5ì›” 6ì¼ (ê¸ˆ) - UIViewController Lifecycle, State Method, Adaptive Segue, Dependency Injection, ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸ Step3 (4)

## ğŸ£Â í•™ìŠµë‚´ìš©

> ì˜¤ëŠ˜ì€ íƒ€ì½”ìº£ê³¼ì˜ í™œë™í•™ìŠµ ì‹œê°„ì„ í†µí•˜ì—¬ `UIViewController Lifecycle`, `State Method`, `Adaptive Segue`ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ëŠ” ì‹œê°„ì„ ê°€ì¡Œë‹¤.
> 

![Appearing.png](5%E1%84%8B%E1%85%AF%E1%86%AF%206%E1%84%8B%E1%85%B5%E1%86%AF%20(%E1%84%80%E1%85%B3%E1%86%B7)%20-%20UIViewController%20Lifecycle,%20Stat%20aa1ec0a0a5854581ba5513166e5d1256/Appearing.png)

[ê·¸ë¦¼ ì¶œì²˜] Apple Developer Documentation

- **UIViewController Lifecycle**
    - **State Method**
        - `viewDidLoad`
            - ë·° ê³„ì¸µì´ ë©”ëª¨ë¦¬ì— ë¡œë“œëœ ì§í›„ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
            - `loadView`ê°€ ì™„ë£Œë˜ë©´ ìë™ í˜¸ì¶œ
            - `view`ê°€ ìƒì„±ë  ë•Œ ìµœì´ˆ 1íšŒë§Œ ì‹¤í–‰
            - ë¦¬ì†ŒìŠ¤ ì´ˆê¸°í™”, ì´ˆê¸°í™”ë©´ êµ¬ì„± ë“±ì— ì‚¬ìš©
        - `viewWillAppear`
            - ë·°ê°€ ë·° ê³„ì¸µì— ì¶”ê°€ë˜ê³  í™”ë©´ì´ í‘œì‹œë˜ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
            - 1íšŒ ì´ˆê¸°í™” ì‘ì—…ì€ `viewDidLoad`ë¡œ ìˆ˜í–‰í•˜ëŠ” ë°˜ë©´, í™”ë©´ ë³µê·€ ì‹œ ë‹¤ì‹œ í˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©
            - ì˜¤í† ë ˆì´ì•„ì›ƒ, í•„ë“œ ê°ì¶”ê¸°, `Action` í•´ì œ ë“±ì— ì‚¬ìš©
        - `viewDidAppear`
            - ë·°ê°€ ë·° ê³„ì¸µì— ì¶”ê°€ë˜ì–´ í™”ë©´ì´ í‘œì‹œë˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
            - í™”ë©´ì— ì ìš©ë  ì• ë‹ˆë©”ì´ì…˜ ë…¸ì¶œ
            - Core dataë¡œ ë°ì´í„° ì €ì¥, ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘, ë¹„ë””ì˜¤/ì†Œë¦¬ ì‹œì‘, ë„¤íŠ¸ì›Œí¬ì—ì„œ ì •ë³´ìˆ˜ì§‘ì— ì‚¬ìš©
        - `viewWillDisappear`
            - ë·°ê°€ ë·° ê³„ì¸µì—ì„œ ì‚¬ë¼ì§€ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
        - `viewDidDisappear`
            - ë·°ê°€ ë·° ê³„ì¸µì—ì„œ ì‚¬ë¼ì§„ í›„ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
    - ì£¼ì˜í•  ì 
        - í™”ë©´ì˜ ì¼ë¶€ë§Œ ê°€ë¦¬ëŠ” ëª¨ë‹¬ ë°©ì‹ ì‚¬ìš©ì‹œ `viewWillDisappear`,  `viewDidDisappear` ì‘ë™ x
        - ë°˜ë©´, í™”ë©´ ì „ì²´ë¥¼ ê°€ë¦¬ëŠ” ëª¨ë°œ ë°©ì‹ ì‚¬ìš©ì‹œ  `viewWillDisappear`,  `viewDidDisappear` ì‘ë™
        - ì²«ë²ˆì§¸ í™”ë©´ì—ì„œ ë‘ë²ˆì§¸ í™”ë©´ ì „í™˜ì‹œ ë™ì‘ ì‹œ êµ¬ë™ ë°©ì‹ ì°¨ì´ ìˆìŒ â†’ `ios` ë²„ì „ ì°¨ì´(íë¦„ë§Œ ì£¼ëª©!!)
            - zeddios ë¸”ë¡œê·¸
                - 1st viewDidLoad
                - 1st viewWillAppear
                - 1st viewDidAppear
                
                ---
                
                - 1st viewWillDisappear
                - 2nd viewDidLoad
                - 2nd viewWillAppear
                - 1st viewDidDisappear
                - 2nd viewDidAppear
                
                ---
                
            - íƒ€ì½”ìº£ê³¼ì˜ í•™ìŠµí™œë™
                - 1st viewDidLoad
                - 1st viewWillAppear
                - 1st viewDidAppear
                
                ---
                
                - 2nd viewDidLoad
                - 1st viewWillDisappear
                - 2nd viewWillAppear
                - 1st viewDidDisappear
                - 2nd viewDidAppear
                
- **Adaptive Segue**
    - `Present Modally`
    - `Show (e.g. push)`
    - `Show Detail (e.g. Replace)`
    - `Present Popover`
    

## ğŸ¥Â ë¬¸ì œì  / ê³ ë¯¼í•œ ì 

<aside>
ğŸ’¡ **ì‹¤í—˜ 1 : ì„œë¡œ ë‹¤ë¥¸ VC ê°„ ë°ì´í„° ì „ë‹¬**

</aside>

> ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸ Step3 êµ¬í˜„ ì¤‘ `JuiceOrderViewController` ë‚´ì˜ ê³¼ì¼ `label`ì˜ `text`ë¥¼ `FruitStockViewController`ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ìƒê°í•˜ì˜€ë‹¤. ì²˜ìŒì—ëŠ” `Navigation` ë°©ì‹ì„ ì´ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì‹ì„ ì‘ì„±í•˜ë©´ `FruitStockViewController` ë‚´ í”„ë¡œí¼í‹°ì— ê³¼ì¼ `label`ì˜ `text`ë¥¼ í• ë‹¹í•¨ê³¼ ë™ì‹œì— ì „ë‹¬í•  ìˆ˜ ìˆì—ˆë‹¤.
> 

- ì½”ë“œ(`Navigation` ë°©ì‹ì„ ì´ìš©í•œ ë°ì´í„° ì „ë‹¬ - ì˜ì¡´ì„± ì£¼ì…)

```swift
@IBAction func editStock(_ sender: UIBarButtonItem) {
    guard let controller = self.storyboard?.instantiateViewController(withIdentifier: "FruitStockViewController") as? FruitStockViewController else { return }
    
    controller.text1 = strawberryLabel?.text ?? ""
    controller.text2 = bananaLabel?.text ?? ""
    controller.text3 = pineappleLabel?.text ?? ""
    controller.text4 = kiwiLabel?.text ?? ""
    controller.text5 = mangoLabel?.text ?? ""
    
    self.navigationController?.pushViewController(controller, animated: true)
   
}
```

> í•˜ì§€ë§Œ ëª¨ë‹¬ ë°©ì‹ì„ ì´ìš©í•˜ì—¬ ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥ì„ ì´ìš©í•˜ë‹¤ ë³´ë‹ˆ ìœ„ì™€ ë¹„ìŠ·í•œ í˜•ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ìœ¼ë‚˜ ë°ì´í„° ì „ë‹¬ì€ ì´ë£¨ì–´ì¡Œìœ¼ë‚˜ ë„¤ë¹„ê²Œì´ì…˜ ë°”ê°€ ì‚¬ë¼ì§€ê³  ë§ì•˜ë‹¤. ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ?
> 

- ì½”ë“œ(`Modal` ë°©ì‹ì„ ì´ìš©í•œ ë°ì´í„° ì „ë‹¬ - ì˜ì¡´ì„± ì£¼ì…)

```swift
@IBAction func editStock(_ sender: UIBarButtonItem) {
    guard let controller = self.storyboard?.instantiateViewController(withIdentifier: "FruitStockViewController") as? FruitStockViewController else { return }
    
    controller.text1 = strawberryLabel?.text ?? ""
    controller.text2 = bananaLabel?.text ?? ""
    controller.text3 = pineappleLabel?.text ?? ""
    controller.text4 = kiwiLabel?.text ?? ""
    controller.text5 = mangoLabel?.text ?? ""
    
    present(controller, animated: true)
   
}
```

## ğŸ“Â í•´ê²°ë°©ë²•

<aside>
ğŸ’¡ **ì‹¤í—˜ 1 : ì„œë¡œ ë‹¤ë¥¸ VC ê°„ ë°ì´í„° ì „ë‹¬ - Navigation Controllerë¡œ ê²½ë¡œ ì§€ì • ë° íƒ€ì… í”„ë¡œí¼í‹° ì‚¬ìš©**

</aside>

> ë¬¸ì œëŠ” ë°”ë¡œ `Navigation Controller`ë¡œ í™”ë©´ ì „í™˜ì„ ì´ë£¨ì§€ ì•Šê³ , `FruitStockViewController`ë¡œ ë°”ë¡œ í™”ë©´ ì „í™˜ì„ ì´ë£¨ì—ˆê¸° ë•Œë¬¸ì´ë‹¤. ëª¨ë‹¬ ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ê°€ìš´ë° ë°”ë¡œ `root viewController`ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ë©´ í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë°ì´í„° ì „ë‹¬ì€ ì˜ ì´ë£¨ì–´ì¡Œë‹¤. í•˜ì§€ë§Œ ë„¤ë¹„ê²Œì´ì…˜ ë°”ê°€ ì œëŒ€ë¡œ ë…¸ì¶œë˜ì§€ ì•Šê±°ë‚˜ ê¸°ëŠ¥í•˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ì˜€ë‹¤.
> 

- ì½”ë“œ(Modal ë°©ì‹ì„ ì´ìš©í•œ ë°ì´í„° ì „ë‹¬[Identifier=root VC] - ì˜ì¡´ì„± ì£¼ì…)

```swift
private func goToFruitStockViewController() {
    guard let controller = self.storyboard?.instantiateViewController(withIdentifier: "FruitStockViewController") else { return }
        
    controller.numberOfStrawberry = strawberryLabel.text ?? ""
    controller.numberOfBanana = bananaLabel.text ?? ""
    controller.numberOfPineapple = pineappleLabel.text ?? ""
    controller.numberOfKiwi = kiwiLabel.text ?? ""
    controller.numberOfMango = mangoLabel.text ?? ""

    present(controller, animated: true)
}

// ê´œì°®ì€ì : í”„ë¡œí¼í‹°ê°€ ì˜ ì „ë‹¬ë¨
// ë‚˜ìœì : ë„¤ë¹„ê²Œì´ì…˜ ë°” ê¸°ëŠ¥ë“¤ì´ ì˜ ì‘ë™ X
```

> ëª¨ë‹¬ ë°©ì‹ì„ ì´ìš©í•  ë•Œ ë°”ë¡œ ë·°ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ í™”ë©´ ì „í™˜ì„ í•˜ë©´ ë„¤ë¹„ê²Œì´ì…˜ ë°”ê°€ ì˜ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì€ ì•Œê²Œ ë˜ì—ˆë‹¤. ê·¸ëŸ¬ë©´ ê²½ë¡œë¥¼ ë„¤ë¹„ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì„¤ì •í•œë‹¤ê³  ë¬¸ì œê°€ í•´ê²°ë ê¹Œ? ê·¸ë ‡ì§€ ì•Šë‹¤. ë„¤ë¹„ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ ëª¨ë‹¬ì„ í•˜ë‹ˆ ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥ì€ ì˜ ì‘ë™í•˜ì˜€ìœ¼ë‚˜ í”„ë¡œí¼í‹°, ì¦‰ ë°ì´í„° ì „ë‹¬ì´ ì´ë£¨ì–´ì§€ì§€ ì•Šì•˜ë‹¤. ì´ëŠ” `push`ë‚˜ `present`ì˜ ê²½ë¡œê°€ `root VC`ë¡œ ì„¤ì •ë˜ì–´ ìˆì„ë•Œ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ê°€ ì „ë‹¬ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ ì •ë…• ë°©ë²•ì€ ì—†ëŠ” ê²ƒì¼ê¹Œ?
> 

- ì½”ë“œ(Modal ë°©ì‹ì„ ì´ìš©í•œ ë°ì´í„° ì „ë‹¬[Identifier=Navigation Controller] - ì˜ì¡´ì„± ì£¼ì…)

```swift
private func goToFruitStockViewController() {
    guard let controller = self.storyboard?.instantiateViewController(withIdentifier: "ModalViewController") else { return }
        
    dispatchFruitLabel()
    present(controller, animated: true)
}
    
private func dispatchFruitLabel() {
		FruitStockViewController.numberOfStrawberry = strawberryLabel.text ?? ""
    FruitStockViewController.numberOfBanana = bananaLabel.text ?? ""
    FruitStockViewController.numberOfPineapple = pineappleLabel.text ?? ""
    FruitStockViewController.numberOfKiwi = kiwiLabel.text ?? ""
    FruitStockViewController.numberOfMango = mangoLabel.text ?? ""
}

// ê´œì°®ì€ì : ë„¤ë¹„ê²Œì´ì…˜ ë°” ê¸°ëŠ¥ ì˜ ì‘ë™
// ë‚˜ìœì : í”„ë¡œí¼í‹° ì „ë‹¬ì˜ ì–´ë ¤ì›€
```

> ìœ„ì˜ ë¬¸ì œì ì„ í•´ê²°í•  í•œ ê°€ì§€ ë°©ë²•ì´ ë– ì˜¬ëë‹¤. ê²½ë¡œë¥¼ `Navigation Controller`ë¡œ ì„¤ì •í•˜ê³  íƒ€ì… í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤ë©´ ë„¤ë¹„ê²Œì´ì…˜ ë°” ê¸°ëŠ¥ì˜ ì´ì ê³¼ í”„ë¡œí¼í‹° ì „ë‹¬ì˜ ì´ì ì„ ì ê·¹ í™œìš©í•  ìˆ˜ ìˆì—ˆë‹¤. ê¸ˆì£¼ ìˆ˜ìš”ì¼ì— ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ê³¼ ì „í˜€ ìƒê´€ ì—†ì´ íƒ€ì… í”„ë¡œí¼í‹°ë¥¼ ìµœì´ˆ í˜¸ì¶œí•˜ë©´ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°€ ì´ˆê¸°í™”ê°€ ì´ë£¨ì–´ì ¸ ê·¸ ì´í›„ì—ëŠ” ì–´ë””ì„œë“  í•´ë‹¹ í”„ë¡œí¼í‹° ê³µìœ ê°€ ë˜ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
> 

- ì½”ë“œ(Modal ë°©ì‹ì„ ì´ìš©í•œ ë°ì´í„° ì „ë‹¬[Identifier=Navigation Controller] +Type Property)

```swift
private func goToFruitStockViewController() {
    guard let controller = self.storyboard?.instantiateViewController(withIdentifier: "ModalViewController") else { return }
        
    dispatchFruitLabel()
    present(controller, animated: true)
}
    
private func dispatchFruitLabel() {
		FruitStockViewController.numberOfStrawberry = strawberryLabel.text ?? ""
    FruitStockViewController.numberOfBanana = bananaLabel.text ?? ""
    FruitStockViewController.numberOfPineapple = pineappleLabel.text ?? ""
    FruitStockViewController.numberOfKiwi = kiwiLabel.text ?? ""
    FruitStockViewController.numberOfMango = mangoLabel.text ?? ""
}
```

## ğŸŒÂ ì°¸ì¡°

1. Dependency Injection - hyunsikwon github

[Swift - Dependency Injection(DI)](https://hyunsikwon.github.io/swift/Swift-DI-01/)

1. View Controller LifeCycle - zeddios tistory

[iOS ) View Controllerì˜ ìƒëª…ì£¼ê¸°(Life-Cycle)](https://zeddios.tistory.com/43)

1. UIViewController - Apple Developer Documentation

[Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uiviewcontroller)