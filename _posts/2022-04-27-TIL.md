---
layout : single
title : "2022-04-27-TIL(Dictionary vs Tuple, LocalizedError, ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸ Step1 (3))"
---

# 4ì›” 27ì¼ (ìˆ˜) - Dictionary vs Tuple, LocalizedError, ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸ Step1 (3)

## ğŸ£Â í•™ìŠµë‚´ìš©

> ì˜¤ëŠ˜ì€ ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸ Step1 PRì— ëŒ€í•˜ì—¬ Jakeì—ê²Œ ì½”ë©˜íŠ¸ë¥¼ ë°›ê³ , ì½”ë©˜íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ í˜„ì¬ í”„ë¡œì íŠ¸ ë‚´ ë¬¸ì œì ì„ ê°œì„ í•´ë³´ê³  ë˜ ì´ë¥¼ ìœ„í•œ í•™ìŠµì„ í•˜ëŠ” ì‹œê°„ì„ ê°€ì¡Œë‹¤. ì˜¤ëŠ˜ í•™ìŠµ ë™ì•ˆ ìƒˆë¡­ê²Œ ì•Œê²Œëœ ë‚´ìš©ì€ `LocalizedError` ì´ê³ , ê¸°ì¡´ì— ì•Œê³  ìˆë˜ ë‚´ìš©ì´ì—ˆì§€ë§Œ ë” ê¹Šì´ ë“¤ì–´ê°€ `Dictionary` ,`tuple` ì„ ë¹„êµí•˜ì˜€ë‹¤.
> 

- **Dictionary vs Tuple**
    - ë¹„êµ
        - `dictionary`ëŠ”Â `array`,Â `set` ì™€ ë”ë¶ˆì–´ ì»¬ë ‰ì…˜ íƒ€ì…ì— í•´ë‹¹í•˜ì§€ë§Œ,Â `tuple`ì€ ì»¬ë ‰ì…˜ íƒ€ì… X
        - `dictionary`ëŠ”Â `key`ì™€Â `value`Â 2ê°€ì§€ ì¢…ë¥˜ì˜ ê°’ì„ ë‹´ì„ ìˆ˜ ìˆì§€ë§Œ,Â `tuple`ì€ ê·¸ë³´ë‹¤ ë” ë§ì´ 
        ë‹´ì„ ìˆ˜ ìˆê³ , ì‹¬ì§€ì–´Â `tuple`Â ë‚´ì—ì„œëŠ”Â `function`Â íƒ€ì…ë„ í¬í•¨ ê°€ëŠ¥
        - `tuple`ì€ ì£¼ë¡œ ì„ì‹œì ìœ¼ë¡œ ê°’ì„ ì¢…ì†ì‹œí‚¬ ë•Œ ì‚¬ìš©. ì„ì‹œê°€ ì•„ë‹Œ ì¡´ì†ì˜ ì˜ë¯¸ë¡œ ì‚¬ìš©í•˜ê³ ì 
        í•˜ë©´Â `class`ë‚˜Â `struct`ê°€ ì í•©
        - `tuple`ì€ ìˆœì„œê°€ ìˆê³ , ìƒì„±ëœ ì´í›„ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ,Â `dictionary`ëŠ” ìˆœì„œê°€ ì—†ìœ¼ë©°, ìƒì„± 
        ì´í›„ì—ë„ ê°’ì˜ ë³€ê²½ ê°€ëŠ¥
        - ...
    
- **LocalizedError**
    - ê¸°ëŠ¥ : ì˜¤ë¥˜ ë° ë°œìƒ ì´ìœ ë¥¼ ì„¤ëª…í•˜ëŠ” ì§€ì—­í™”ëœ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ëŠ” íŠ¹ìˆ˜ ì˜¤ë¥˜
    - ì„ ì–¸ :
        
        ```swift
        protocol LocalizedError
        ```
        
    - Instance Property :
        
        ```swift
        var errorDescription: String?
        // Required. Default implementation provided.
        
        var failureReason: String?
        // Required. Default implementation provided.
        
        var helpAnchor: String?
        // Required. Default implementation provided.
        
        var recoverySuggestion: String?
        // Required. Default implementation provided.
        ```
        
        > `LocalizedError` ë¥¼ í™œìš©í•˜ì—¬ ê¸°ì¡´ì˜ `extension` ì„ í†µí•´ ì €ì¥ í”„ë¡œí¼í‹° ë³€ìˆ˜ë¥¼ í• ë‹¹í•˜ì—¬ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í• ë‹¹í•œ ë°©ì‹ì—ì„œ ë²—ì–´ë‚˜, `errorDescription` ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ ê°ê°ì˜ ì—ëŸ¬ ê²½ìš°ì— ëŒ€í•˜ì—¬ `NSLocalizedString` ì„ í†µí•´ ë©”ì‹œì§€ë¥¼ ë‚¨ê¸°ê³  `return` í•˜ì˜€ë‹¤. í•´ë‹¹ ì‘ì—…ì„ ì•„ë˜ì˜ ì½”ë“œë¥¼ í†µí•´ í™•ì¸í•´ë³¸ë‹¤.
        > 
        
        - ì½”ë“œ
        
        ```swift
        import Foundation
        
        enum FruitStoreError: Error {
            case missingProduct
            case outOfStock
            case invalidAmount
        }
        
        extension FruitStoreError: LocalizedError {
            public var errorDescription: String? {
                switch self {
                case .missingProduct:
                    return NSLocalizedString("í•´ë‹¹ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤", comment: "Description of missing Product")
                case .outOfStock:
                    return NSLocalizedString("ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤", comment: "Description of out of stock")
                case .invalidAmount:
                    return NSLocalizedString("ì˜ëª»ëœ ìˆ˜ëŸ‰ì…ë‹ˆë‹¤", comment: "Description of invalid amount")
                }
            }
        }
        ```
        
        > `LocalizedError`ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ `.localizedDescription` ë¡œ í˜¸ì¶œì„ í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ë‹¤. `.localizedDescription` ëŠ” `String` ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ì˜µì…”ë„ ì¶”ì¶œ ì—†ì´ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ `.errorDescription` ëŠ” `String?`  ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ì˜µì…”ë„ ì¶”ì¶œì´ í•„ìš”í•˜ë‹¤.
        > 
        
        - ì½”ë“œ
        
        ```swift
        func handle(_ error: Error) {
            switch error {
            case FruitStoreError.outOfStock:
                print(FruitStoreError.outOfStock.localizedDescription)
            case FruitStoreError.missingProduct:
                print(FruitStoreError.missingProduct.localizedDescription)
            case FruitStoreError.invalidAmount:
                print(FruitStoreError.invalidAmount.localizedDescription)
            default:
                print("ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ì…ë‹ˆë‹¤")
            }
        }
        ```
        
    

## ğŸ¥Â ë¬¸ì œì  / ê³ ë¯¼í•œ ì 

<aside>
ğŸ’¡ **ì‹¤í—˜ 1 : ê¸°ëŠ¥ ë¶„ë¦¬ ë…¼ë¦¬ ì„¤ì • ê³ ë¯¼(ì¬ê³  í™•ì¸ í•¨ìˆ˜ ìœ„ì¹˜ ê´€ë ¨)**

</aside>

> ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸ Step1 ë„ì¤‘ `Struct` ë‚´ë¶€ì—ì„œ `make()` í•¨ìˆ˜ëŠ” ì–´ì œì˜ ì‘ì—…ì„ í†µí•˜ì—¬ ì–´ëŠì •ë„ ì •ë¦¬ë¥¼ í•  ìˆ˜ëŠ” ìˆì—ˆë‹¤. í•˜ì§€ë§Œ, ê³¼ì—° `JuiceMaker` `struct` ì•ˆì— ì¬ê³ ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•œ ì§€, ì•„ë‹ˆë©´ `FruitStore` `class` ì—ì„œ ì¬ê³ ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•œ ì§€ ê³ ë¯¼ì´ ìƒê²¼ë‹¤.
> 

## ğŸ“Â í•´ê²°ë°©ë²•

<aside>
ğŸ’¡ **ì‹¤í—˜ 1 : ê¸°ëŠ¥ ë¶„ë¦¬ ë…¼ë¦¬ ì„¤ì • ê³ ë¯¼(ì¬ê³  í™•ì¸ í•¨ìˆ˜ ìœ„ì¹˜ ê´€ë ¨) - FruitStore class ë‚´ êµ¬í˜„**

</aside>

> ê³ ë¯¼ ê²°ê³¼, `JuiceMaker` êµ¬ì¡°ì²´ëŠ” `juice`ë¥¼ ë§Œë“œëŠ” ê¸°ëŠ¥ì— ì§‘ì¤‘í•˜ë©´ ë¨ì„ ê¹¨ë‹¬ì•˜ë‹¤. ì¦‰, ì¥¬ìŠ¤ë¥¼ ë§Œë“¤ê¸° ìœ„í•˜ì—¬ ì¬ë£Œê°€ ìˆëŠ”ì§€ ì •ë„ë§Œ ìº¡ìŠí™”ë¥¼ ì´ìš©í•˜ì—¬ ìˆ˜í–‰í•˜ê³ , ì¬ë£Œê°€ ìˆëŠ”ì§€ ì¬ê³ ì— ì§ì ‘ í™•ì¸í•˜ëŠ” ì‘ì—…ì€ `FruitStore` í´ë˜ìŠ¤ ë‚´ì—ì„œ í™•ì¸í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤ íŒë‹¨ë˜ì—ˆë‹¤. ì´ì—, `JuiceMaker`ì˜ `make()` í•¨ìˆ˜ ë‚´ì—ëŠ” ê³¼ì¼ì˜ ì¢…ë¥˜ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ê³¼ì¼ì˜ ì¢…ë¥˜ê°€ ìˆë‹¤ë©´ ì£¼ë¬¸í•  ê³¼ì¼ì¥¬ìŠ¤ì— í•„ìš”í•œ ê°œìˆ˜ë§Œí¼ ìˆëŠ”ì§€ í™•ì¸í•œ ì´í›„ í•˜ë‚˜ì˜ ì¡°ê±´ì´ë¼ë„ ì–´ê¸‹ë‚œë‹¤ë©´ `handle()` í•¨ìˆ˜ë¥¼ í†µí•˜ì—¬ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•´ë³´ì•˜ë‹¤.
> 

- JuiceMaker ì½”ë“œ

```swift
struct JuiceMaker {
    let juiceMakerStore = FruitStore()
    
    func make(_ juice: Product) {
        do {
            try checkMaterial(juice)
            try checkPossibilityOfMaking(juice)
        } catch (let error) {
            juiceMakerStore.handle(error)
        }
    }
    
    private func checkMaterial(_ juice: Product) throws {
        try juiceMakerStore.goToWarehouse(of: juiceMakerStore.check(fruit:), juice: juice)
    }
    
    private func checkPossibilityOfMaking(_ juice: Product) throws {
        try juiceMakerStore.checkStock(function: juiceMakerStore.reduceStock(fruit:amount:), juice: juice)
    }
}
```

- FruitStore ì½”ë“œ

```swift
class FruitStore {
		...
    func goToWarehouse(of function: (Fruit) throws -> Void, juice: Product) rethrows {
        switch juice {
        case Product.strawberryJuice:
            try function(Fruit.strawberry)
        case Product.bananaJuice:
            try function(Fruit.banana)
        case Product.kiwiJuice:
            try function(Fruit.kiwi)
        case Product.pineappleJuice:
            try function(Fruit.pineapple)
        case Product.strawberryBananaJuice:
            try function(Fruit.strawberry)
            try function(Fruit.banana)
        case Product.mangoJuice:
            try function(Fruit.mango)
        case Product.mangoKiwiJuice:
            try function(Fruit.mango)
            try function(Fruit.kiwi)
        }
    }
    
    func checkStock(function: (Fruit, Int) throws -> Void, juice: Product) rethrows {
        switch juice {
        case Product.strawberryJuice:
            try function(Fruit.strawberry, CostOfJuiceProduction.strawberryInStrawberryJuice)
        case Product.bananaJuice:
            try function(Fruit.banana, CostOfJuiceProduction.bananaInBananaJuice)
        case Product.kiwiJuice:
            try function(Fruit.kiwi, CostOfJuiceProduction.kiwiInKiwiJuice)
        case Product.pineappleJuice:
            try function(Fruit.pineapple, CostOfJuiceProduction.pineappleInPineappleJuice)
        case Product.strawberryBananaJuice:
            try function(Fruit.strawberry, CostOfJuiceProduction.strawberryInStrawberryBananaJuice)
            try function(Fruit.banana, CostOfJuiceProduction.bananaInStrawberryBananaJuice)
        case Product.mangoJuice:
            try function(Fruit.mango, CostOfJuiceProduction.mangoInMangoJuice)
        case Product.mangoKiwiJuice:
            try function(Fruit.mango, CostOfJuiceProduction.mangoInMangoKiwiJuice)
            try function(Fruit.kiwi, CostOfJuiceProduction.kiwiInMangoKiwiJuice)
        }
    }
    
    func handle(_ error: Error) {
        switch error {
        case FruitStoreError.outOfStock:
            print(FruitStoreError.outOfStock.localizedDescription)
        case FruitStoreError.missingProduct:
            print(FruitStoreError.missingProduct.localizedDescription)
        case FruitStoreError.invalidAmount:
            print(FruitStoreError.invalidAmount.localizedDescription)
        default:
            print("ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ì…ë‹ˆë‹¤")
        }
    }
}
```

> ì •ë¦¬í•˜ìë©´,Â `FruitStore`Â ë‚´ì—ì„œ ê³¼ì¼ì˜ ì¢…ë¥˜ê°€ ìˆëŠ”ì§€ í™•ì¸ì€ ë¬¼ë¡ Â (`Fruit`Â ì—´ê±°í˜• ë‚´ì˜Â `case`Â ë§Œì„ ë‹¤ë£¨ì§€ë§Œ)Â `checkMaterial()`Â í•¨ìˆ˜ ë‚´Â `guard`Â êµ¬ë¬¸ì„ ì´ìš©í•˜ì—¬ ê³¼ì¼ì˜ ì¢…ë¥˜ê°€ ìˆëŠ”ì§€ í™•ì¸ì„ í•˜ì˜€ê³ , ê³¼ì¼ì˜ ì¢…ë¥˜ê°€ ìˆë‹¤ë©´ ì£¼ë¬¸í•  ê³¼ì¼ì£¼ìŠ¤ì— í•„ìš”í•œ ê°œìˆ˜ë§Œí¼ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê¸°ëŠ¥ì€ `checkPossibilityOfMaking()`Â í•¨ìˆ˜ë¥¼ í†µí•´ ì‹ë³„í•´ë³´ì•˜ë‹¤.
> 

> ì¶”ê°€ë¡œ, do-try-catch ë¬¸ ì´ì™¸ì— ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì•˜ì§€ë§Œ try?, try!ëŠ” ê°ê° ì—ëŸ¬ ë°œìƒì‹œ nil ê°’ìœ¼ë¡œ ë°˜í™˜í•˜ê±°ë‚˜ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ë‚˜ê¸° ë•Œë¬¸ì— ì—ëŸ¬ë©”ì‹œì§€ ì¶œë ¥ì—ëŠ” ì í•©í•˜ì§€ ì•Šì•˜ë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ì´ë¥¼ íƒêµ¬í•´ë³´ì•„ë„ ì§€ê¸ˆì€ do-try-catch ì´ì™¸ì—ëŠ” ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•ì€ ì—†ë‹¤ê³  íŒë‹¨ëœë‹¤.
> 

## ğŸŒÂ ì°¸ì¡°

1. LocalizedError - Apple Developer Documentation

[Apple Developer Documentation](https://developer.apple.com/documentation/foundation/localizederror)

1. Tuple - Zeddios Tistory

[Swift ) tuple](https://zeddios.tistory.com/238)
